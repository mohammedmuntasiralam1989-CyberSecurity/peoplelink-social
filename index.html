<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>People Link - Premium Social Network</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1877f2;
            --secondary: #42b72a;
            --accent: #ff6b6b;
            --dark: #1c1e21;
            --darker: #121212;
            --light: #f0f2f5;
            --text: #333;
            --text-light: #65676b;
            --gold: #ffd700;
            --silver: #c0c0c0;
            --bronze: #cd7f32;
            --success: #00c851;
            --warning: #ffbb33;
            --danger: #ff4444;
            --love: #f35369;
            --haha: #f7b125;
            --wow: #f7b125;
            --sad: #f7b125;
            --angry: #e9710f;
        }

        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f0f2f5;
            --text-primary: #1c1e21;
            --text-secondary: #65676b;
            --border: #dddfe2;
        }

        [data-theme="dark"] {
            --bg-primary: #18191a;
            --bg-secondary: #242526;
            --text-primary: #e4e6eb;
            --text-secondary: #b0b3b8;
            --border: #3e4042;
        }

        body {
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
        }

        .card {
            background: var(--bg-primary);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border);
        }

        /* Login System - Facebook Style */
        .login-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f0f2f5;
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .login-content {
            display: flex;
            max-width: 980px;
            width: 100%;
            padding: 20px;
            gap: 60px;
            align-items: center;
        }

        .login-left {
            flex: 1;
            padding-right: 32px;
        }

        .login-left h1 {
            color: var(--primary);
            font-size: 56px;
            font-weight: bold;
            margin-bottom: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        .login-left h2 {
            font-size: 28px;
            font-weight: normal;
            line-height: 32px;
            color: #1c1e21;
            margin-top: 0;
        }

        .auth-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, .1), 0 8px 16px rgba(0, 0, 0, .1);
            width: 396px;
        }

        .password-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
        }

        /* Navigation - Facebook Style */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--bg-primary);
            padding: 8px 16px;
            display: none;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary);
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        .search-container {
            display: flex;
            align-items: center;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 8px 12px;
            width: 240px;
        }

        .search-container input {
            background: none;
            border: none;
            outline: none;
            color: var(--text-primary);
            width: 100%;
            margin-left: 8px;
        }

        .nav-center {
            display: flex;
            gap: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 129px;
            height: 56px;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            color: var(--text-secondary);
            text-decoration: none;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
        }

        .nav-item i {
            font-size: 24px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-primary);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px;
            border-radius: 20px;
            cursor: pointer;
            background: var(--bg-secondary);
        }

        /* Language Toggle */
        .language-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 16px;
            padding: 8px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .language-toggle:hover {
            background: var(--bg-secondary);
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
        }

        .mobile-nav {
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            background: var(--bg-primary);
            z-index: 999;
            display: none;
            flex-direction: column;
            padding: 20px;
            border-top: 1px solid var(--border);
        }

        .mobile-nav.active {
            display: flex;
        }

        .mobile-nav a {
            color: var(--text-primary);
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .mobile-nav a:hover, .mobile-nav a.active {
            background: var(--primary);
            color: white;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 80px auto 20px;
            padding: 20px;
            display: none;
            grid-template-columns: 280px 1fr 320px;
            gap: 20px;
        }

        /* Stories Section */
        .stories-container {
            display: flex;
            gap: 10px;
            padding: 15px;
            overflow-x: auto;
            margin-bottom: 20px;
        }

        .story-circle {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            min-width: 80px;
            position: relative;
        }

        .story-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            padding: 3px;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            margin-bottom: 5px;
        }

        .story-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid var(--bg-primary);
        }

        .story-username {
            font-size: 12px;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Story Viewer */
        .story-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .story-viewer.active {
            display: flex;
        }

        .story-content {
            position: relative;
            max-width: 350px;
            max-height: 600px;
            width: 100%;
            border-radius: 15px;
            overflow: hidden;
        }

        .story-content img, .story-content video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .story-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
        }

        .story-nav-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .story-progress {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            gap: 5px;
        }

        .progress-bar {
            flex: 1;
            height: 3px;
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            width: 0%;
            transition: width 0.1s linear;
        }

        .story-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Create Post */
        .create-post {
            padding: 20px;
        }

        .post-input-container {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .post-input {
            flex: 1;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 15px 20px;
            color: var(--text-primary);
            font-size: 16px;
            resize: none;
            outline: none;
        }

        .post-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .media-buttons {
            display: flex;
            gap: 15px;
        }

        .media-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .media-btn:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .media-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Friend Request Button */
        .friend-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .friend-btn.add {
            background: var(--primary);
            color: white;
        }

        .friend-btn.pending {
            background: var(--warning);
            color: white;
        }

        .friend-btn.friends {
            background: var(--success);
            color: white;
        }

        .friend-btn.message {
            background: var(--secondary);
            color: white;
        }

        /* Image Preview */
        .image-preview {
            margin-top: 15px;
            position: relative;
            display: inline-block;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
        }

        .remove-image {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Posts */
        .post-card {
            position: relative;
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .post-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
        }

        .post-user-info {
            flex: 1;
        }

        .post-username {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .verified-badge {
            color: var(--primary);
            font-size: 14px;
        }

        .post-time {
            color: var(--text-secondary);
            font-size: 13px;
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .post-image {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 15px;
            max-height: 500px;
            object-fit: cover;
        }

        .post-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 14px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .post-actions-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            padding-top: 10px;
        }

        .post-action-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 8px 5px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-size: 14px;
        }

        .post-action-btn:hover, .post-action-btn.active {
            background: var(--bg-secondary);
            color: var(--primary);
        }

        /* Reacts System */
        .reacts-container {
            position: absolute;
            bottom: 100%;
            left: 0;
            background: var(--bg-primary);
            border-radius: 25px;
            padding: 8px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.2);
            display: none;
            gap: 5px;
            z-index: 100;
        }

        .reacts-container.active {
            display: flex;
        }

        .react-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.2s ease;
            transform: scale(1);
        }

        .react-btn:hover {
            transform: scale(1.3);
        }

        .react-like { background: var(--primary); color: white; }
        .react-love { background: var(--love); color: white; }
        .react-haha { background: var(--haha); color: white; }
        .react-wow { background: var(--wow); color: white; }
        .react-sad { background: var(--sad); color: white; }
        .react-angry { background: var(--angry); color: white; }

        .react-count {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .react-emoji {
            font-size: 16px;
        }

        /* Post Options */
        .post-options {
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .post-options-btn {
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .post-options-menu {
            position: absolute;
            top: 35px;
            right: 0;
            background: var(--bg-primary);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            padding: 10px 0;
            min-width: 150px;
            display: none;
            z-index: 100;
        }

        .post-options-menu.active {
            display: block;
        }

        .post-option {
            padding: 10px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .post-option:hover {
            background: var(--bg-secondary);
        }

        .post-option.delete {
            color: var(--danger);
        }

        /* Comments */
        .comments-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
            display: none;
        }

        .comments-section.active {
            display: block;
        }

        .comment {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
            padding: 10px;
            border-radius: 10px;
            background: var(--bg-secondary);
        }

        .comment-input-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .comment-input {
            flex: 1;
            padding: 10px 15px;
            border-radius: 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            outline: none;
        }

        /* Right Sidebar */
        .contacts-container, .suggestions-container, .friend-requests-container {
            margin-bottom: 20px;
        }

        .contact-item, .suggestion-item, .friend-request-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .contact-item:hover, .suggestion-item:hover, .friend-request-item:hover {
            background: var(--bg-secondary);
        }

        .friend-request-actions {
            display: flex;
            gap: 5px;
            margin-left: auto;
        }

        .friend-request-btn {
            padding: 5px 10px;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            font-size: 12px;
        }

        .friend-request-btn.accept {
            background: var(--success);
            color: white;
        }

        .friend-request-btn.decline {
            background: var(--danger);
            color: white;
        }

        .online-indicator {
            width: 10px;
            height: 10px;
            background: var(--success);
            border-radius: 50%;
            border: 2px solid var(--bg-primary);
            position: absolute;
            bottom: 2px;
            right: 2px;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 20px;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--bg-secondary);
        }

        /* Profile Edit Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Profile Picture Upload */
        .profile-picture-upload {
            text-align: center;
            margin-bottom: 20px;
        }

        .profile-picture-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 3px solid var(--primary);
        }

        /* Messaging Modal */
        .messaging-modal {
            max-width: 800px;
        }

        .chat-container {
            display: flex;
            flex-direction: column;
            height: 500px;
        }

        .chat-header {
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 15px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 18px;
            position: relative;
        }

        .message.sent {
            align-self: flex-end;
            background: var(--primary);
            color: white;
        }

        .message.received {
            align-self: flex-start;
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .message-time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 5px;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border-radius: 25px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            outline: none;
        }

        .send-btn {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Audio Recorder */
        .audio-recorder {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .record-btn {
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .audio-wave {
            flex: 1;
            height: 30px;
            background: var(--bg-secondary);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .audio-wave::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: wave 1s infinite linear;
        }

        @keyframes wave {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Reels Section */
        .reels-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .reel-card {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
        }

        .reel-card video {
            width: 100%;
            height: 400px;
            object-fit: cover;
        }

        .reel-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
        }

        .reel-user {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }

        .reel-stats {
            display: flex;
            gap: 15px;
            font-size: 14px;
        }

        .download-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Search Results */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--bg-primary);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid var(--border);
        }

        .search-result-item:hover {
            background: var(--bg-secondary);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 10000;
            display: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .notification.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        /* Password Strength */
        .password-strength {
            height: 5px;
            border-radius: 5px;
            margin-top: 5px;
            transition: all 0.3s ease;
        }

        .strength-weak {
            background: var(--danger);
            width: 25%;
        }

        .strength-medium {
            background: var(--warning);
            width: 50%;
        }

        .strength-strong {
            background: var(--success);
            width: 100%;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 250px 1fr;
            }
            .right-sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .login-content {
                flex-direction: column;
                text-align: center;
                gap: 30px;
            }
            
            .login-left {
                padding-right: 0;
            }
            
            .login-left h1 {
                font-size: 48px;
            }
            
            .login-left h2 {
                font-size: 24px;
            }
            
            .container {
                grid-template-columns: 1fr;
                padding: 10px;
                margin-top: 60px;
            }
            
            .nav-center, .search-container {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .stories-container {
                padding: 10px;
            }
            
            .post-actions-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .media-buttons {
                flex-wrap: wrap;
                gap: 5px;
            }
            
            .post-actions {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .post-actions .media-btn {
                width: 100%;
                justify-content: center;
            }

            .reels-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .auth-card {
                padding: 20px;
                margin: 10px;
                width: 100%;
            }
            
            .navbar {
                padding: 10px 15px;
            }
            
            .logo {
                font-size: 22px;
            }

            .story-content {
                max-width: 100%;
                max-height: 100%;
                border-radius: 0;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Login System - Facebook Style -->
    <div class="login-container" id="loginContainer">
        <div class="login-content">
            <div class="login-left">
                <h1>facebook</h1>
                <h2>Facebook helps you connect and share with the people in your life.</h2>
            </div>
            <div class="auth-card" id="authCard">
                <div style="margin-bottom: 20px;">
                    <input type="email" id="loginEmail" placeholder="Email address or phone number" style="width: 100%; padding: 15px; border: 1px solid #dddfe2; border-radius: 6px; margin-bottom: 10px; font-size: 16px;">
                    <div class="password-container">
                        <input type="password" id="loginPassword" placeholder="Password" style="width: 100%; padding: 15px; border: 1px solid #dddfe2; border-radius: 6px; font-size: 16px;">
                        <button class="password-toggle" onclick="togglePasswordVisibility('loginPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-strength" id="loginPasswordStrength"></div>
                </div>

                <button class="media-btn" id="loginBtn" style="width: 100%; background: #1877f2; color: white; border: none; padding: 12px; border-radius: 6px; margin-bottom: 15px; font-size: 20px; font-weight: bold;" onclick="login()">
                    <span id="loginBtnText">Log in</span>
                </button>
                
                <div style="text-align: center; margin: 16px 0;">
                    <a href="#" style="color: #1877f2; text-decoration: none; font-size: 14px;" id="forgotPassword">Forgotten password?</a>
                </div>

                <hr style="border: none; border-top: 1px solid #dadde1; margin: 20px 0;">

                <button class="media-btn" style="width: 100%; background: #42b72a; color: white; border: none; padding: 12px; border-radius: 6px; font-size: 17px; font-weight: bold; margin-bottom: 15px;" onclick="showSignupForm()">
                    <span id="createAccountText">Create new account</span>
                </button>

                <!-- Quick Test Button -->
                <button class="media-btn" style="width: 100%; margin-top: 15px; border: 1px solid #dadde1; color: #1877f2; background: white;" onclick="quickLogin()">
                    <i class="fas fa-bolt"></i> <span id="quickLoginText">Quick Test Login</span>
                </button>
                
                <!-- Language Toggle in Login -->
                <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #dadde1;">
                    <button class="language-toggle" onclick="toggleLanguage()">
                        <i class="fas fa-language"></i> <span id="languageToggleText">à¦¬à¦¾à¦‚à¦²à¦¾</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div class="modal" id="profileEditModal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;" id="editProfileTitle">Edit Profile</h2>
            
            <div class="profile-picture-upload">
                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150" alt="Profile" class="profile-picture-preview" id="profilePicturePreview">
                <input type="file" id="profilePictureUpload" accept="image/*" style="display: none;" onchange="updateProfilePicture(this)">
                <button class="media-btn" style="background: var(--primary); color: white;" onclick="document.getElementById('profilePictureUpload').click()">
                    <i class="fas fa-camera"></i> <span id="changePhotoText">Change Profile Photo</span>
                </button>
            </div>
            
            <div style="margin-bottom: 20px;">
                <input type="text" id="editName" placeholder="Full Name" style="width: 100%; padding: 15px; border: 2px solid var(--border); border-radius: 10px; margin-bottom: 10px;">
                <input type="email" id="editEmail" placeholder="Email" style="width: 100%; padding: 15px; border: 2px solid var(--border); border-radius: 10px; margin-bottom: 10px;">
                <div class="password-container">
                    <input type="password" id="editPassword" placeholder="New Password (optional)" style="width: 100%; padding: 15px; border: 2px solid var(--border); border-radius: 10px;">
                    <button class="password-toggle" onclick="togglePasswordVisibility('editPassword')">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <div class="password-strength" id="editPasswordStrength"></div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="media-btn" style="flex: 1; background: var(--primary); color: white;" onclick="saveProfile()" id="saveProfileBtn">Save</button>
                <button class="media-btn" style="flex: 1; background: var(--danger); color: white;" onclick="closeProfileEdit()" id="cancelProfileBtn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Messaging Modal -->
    <div class="modal" id="messagingModal">
        <div class="modal-content messaging-modal">
            <div class="chat-header">
                <h3 id="chatUserName">Sarah Johnson</h3>
                <p style="color: var(--text-secondary); font-size: 14px;" id="chatUserStatus">ðŸŸ¢ Online</p>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be loaded here -->
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type a message...">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="audio-recorder" id="audioRecorder" style="display: none;">
                    <div class="audio-wave"></div>
                    <button class="record-btn" id="stopRecordBtn">
                        <i class="fas fa-stop"></i>
                    </button>
                </div>
                <button class="media-btn" onclick="toggleAudioRecorder()" style="margin-top: 10px;">
                    <i class="fas fa-microphone"></i> <span id="recordAudioText">Record Audio</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Story Viewer -->
    <div class="story-viewer" id="storyViewer">
        <div class="story-content">
            <div class="story-progress" id="storyProgress">
                <!-- Progress bars will be added here -->
            </div>
            <img id="storyImage" src="" alt="Story">
            <div class="story-nav">
                <button class="story-nav-btn" id="prevStory">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="story-nav-btn" id="nextStory">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            <button class="story-close" onclick="closeStoryViewer()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Navigation - Facebook Style -->
    <nav class="navbar" id="mainNavbar">
        <div class="nav-left">
            <div class="logo">facebook</div>
            
            <div class="search-container" style="position: relative;">
                <i class="fas fa-search" style="color: var(--text-secondary);"></i>
                <input type="text" placeholder="Search People Link..." id="searchInput">
                <div class="search-results" id="searchResults">
                    <!-- Search results will appear here -->
                </div>
            </div>
        </div>
        
        <div class="nav-center">
            <a href="#" class="nav-item active" onclick="showSection('home')">
                <i class="fas fa-home"></i>
            </a>
            <a href="#" class="nav-item" onclick="showSection('friends')">
                <i class="fas fa-user-friends"></i>
            </a>
            <a href="#" class="nav-item" onclick="showSection('watch')">
                <i class="fas fa-play-circle"></i>
            </a>
            <a href="#" class="nav-item" onclick="showSection('marketplace')">
                <i class="fas fa-store"></i>
            </a>
            <a href="#" class="nav-item" onclick="showSection('groups')">
                <i class="fas fa-users"></i>
            </a>
        </div>

        <div class="nav-right">
            <div class="nav-icon" onclick="toggleTheme()">
                <i class="fas fa-moon" id="themeIcon"></i>
            </div>
            
            <div class="nav-icon" onclick="toggleLanguage()">
                <i class="fas fa-language"></i>
            </div>
            
            <div class="user-menu" onclick="openProfileEdit()">
                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40" alt="User" class="post-avatar" id="navUserAvatar">
                <span id="navUserName">John</span>
            </div>
            
            <button class="media-btn" onclick="logout()" style="margin-left: 10px;">
                <i class="fas fa-sign-out-alt"></i>
            </button>
            
            <!-- Mobile Menu Button -->
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="mobile-nav" id="mobileNav">
            <a href="#" class="active" onclick="showSection('home')"><i class="fas fa-home"></i> <span id="mobileNavHome">Home</span></a>
            <a href="#" onclick="showSection('friends')"><i class="fas fa-user-friends"></i> <span id="mobileNavFriends">Friends</span></a>
            <a href="#" onclick="showSection('watch')"><i class="fas fa-play-circle"></i> <span id="mobileNavWatch">Watch</span></a>
            <a href="#" onclick="showSection('marketplace')"><i class="fas fa-store"></i> <span id="mobileNavMarketplace">Marketplace</span></a>
            <a href="#" onclick="showSection('groups')"><i class="fas fa-users"></i> <span id="mobileNavGroups">Groups</span></a>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container" id="mainContainer">
        <!-- Left Sidebar -->
        <div class="left-sidebar">
            <div class="card">
                <div class="user-profile" style="text-align: center;">
                    <div style="position: relative; display: inline-block;">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100" alt="User" class="post-avatar" style="width: 80px; height: 80px;" id="profileAvatar">
                        <div class="online-indicator" style="width: 15px; height: 15px; bottom: 5px; right: 5px;"></div>
                    </div>
                    <h3 style="margin: 10px 0 5px;" id="userName">John Doe <i class="fas fa-check-circle verified-badge"></i></h3>
                    <p style="color: var(--text-secondary); font-size: 14px;" id="userStatus">ðŸŸ¢ Online</p>
                </div>
            </div>

            <div class="card">
                <h4 style="margin-bottom: 15px;" id="shortcutsTitle">Shortcuts</h4>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <button class="media-btn" style="justify-content: flex-start;" onclick="showSection('friends')">
                        <i class="fas fa-user-friends"></i> <span id="shortcutFriends">Friends</span>
                    </button>
                    <button class="media-btn" style="justify-content: flex-start;" onclick="showSection('groups')">
                        <i class="fas fa-users"></i> <span id="shortcutGroups">Groups</span>
                    </button>
                    <button class="media-btn" style="justify-content: flex-start;" onclick="showSection('marketplace')">
                        <i class="fas fa-store"></i> <span id="shortcutMarketplace">Marketplace</span>
                    </button>
                    <button class="media-btn" style="justify-content: flex-start;" onclick="showSection('watch')">
                        <i class="fas fa-play-circle"></i> <span id="shortcutWatch">Watch</span>
                    </button>
                    <button class="media-btn" style="justify-content: flex-start;" onclick="showSection('memories')">
                        <i class="fas fa-history"></i> <span id="shortcutMemories">Memories</span>
                    </button>
                </div>
            </div>

            <!-- Friend Requests -->
            <div class="card friend-requests-container">
                <h4 style="margin-bottom: 15px;" id="friendRequestsTitle">Friend Requests <span style="background: var(--primary); color: white; border-radius: 50%; width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; font-size: 12px;" id="friendRequestCount">2</span></h4>
                <div id="friendRequestsList">
                    <!-- Friend requests will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Main Feed -->
        <div class="main-feed">
            <!-- Stories -->
            <div class="card">
                <div class="stories-container" id="storiesContainer">
                    <!-- Stories will be dynamically added -->
                </div>
            </div>

            <!-- Create Post -->
            <div class="card create-post">
                <div class="post-input-container">
                    <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100" alt="User" class="post-avatar" id="createPostAvatar">
                    <input type="text" class="post-input" placeholder="What's on your mind?" id="postContent">
                </div>
                
                <!-- Image Preview -->
                <div class="image-preview" id="imagePreview" style="display: none;">
                    <img id="previewImage" src="" alt="Preview">
                    <button class="remove-image" onclick="removeImage()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="post-actions">
                    <div class="media-buttons">
                        <button class="media-btn" onclick="toggleFileUpload()">
                            <i class="fas fa-image" style="color: var(--success);"></i> <span id="photoBtnText">Photo</span>
                        </button>
                        <button class="media-btn" onclick="addFeeling()">
                            <i class="fas fa-smile" style="color: var(--warning);"></i> <span id="feelingBtnText">Feeling</span>
                        </button>
                        <button class="media-btn" onclick="goLive()">
                            <i class="fas fa-video" style="color: var(--danger);"></i> <span id="liveBtnText">Live</span>
                        </button>
                    </div>
                    <button class="media-btn" id="postBtn" style="background: var(--primary); color: white;" onclick="createPost()"><span id="postBtnText">Post</span></button>
                </div>
                
                <!-- Hidden file input for real image upload -->
                <input type="file" id="realImageUpload" accept="image/*" style="display: none;">
            </div>

            <!-- Posts will be dynamically added here -->
            <div id="postsContainer"></div>

            <!-- Reels Section -->
            <div id="reelsSection" style="display: none;">
                <div class="card">
                    <h3 style="margin-bottom: 20px;" id="reelsTitle">Reels</h3>
                    <div class="reels-container" id="reelsContainer">
                        <!-- Reels will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <div class="card contacts-container">
                <h4 style="margin-bottom: 15px;" id="contactsTitle">Contacts</h4>
                <div id="contactsList">
                    <!-- Contacts will be loaded here -->
                </div>
            </div>

            <div class="card suggestions-container">
                <h4 style="margin-bottom: 15px;" id="suggestionsTitle">Suggested Friends</h4>
                <div id="suggestionsList">
                    <!-- Suggestions will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div class="notification" id="globalNotification"></div>

    <script>
        // Language settings
        let currentLanguage = 'en';
        const translations = {
            en: {
                // Login Page
                loginBtnText: "Log in",
                createAccountText: "Create new account",
                quickLoginText: "Quick Test Login",
                languageToggleText: "à¦¬à¦¾à¦‚à¦²à¦¾",
                forgotPassword: "Forgotten password?",
                
                // Navigation
                navHome: "Home",
                navFriends: "Friends",
                navWatch: "Watch",
                navMarketplace: "Marketplace",
                navGroups: "Groups",
                
                // Profile
                editProfileTitle: "Edit Profile",
                saveProfileBtn: "Save",
                cancelProfileBtn: "Cancel",
                changePhotoText: "Change Profile Photo",
                
                // Sidebar
                shortcutsTitle: "Shortcuts",
                shortcutFriends: "Friends",
                shortcutGroups: "Groups",
                shortcutMarketplace: "Marketplace",
                shortcutWatch: "Watch",
                shortcutMemories: "Memories",
                userStatus: "ðŸŸ¢ Online",
                friendRequestsTitle: "Friend Requests",
                contactsTitle: "Contacts",
                suggestionsTitle: "Suggested Friends",
                
                // Create Post
                yourStoryText: "Your Story",
                photoBtnText: "Photo",
                feelingBtnText: "Feeling",
                liveBtnText: "Live",
                postBtnText: "Post",
                postPlaceholder: "What's on your mind?",
                
                // Friend System
                addFriend: "Add Friend",
                friendRequestSent: "Request Sent",
                friends: "Friends",
                message: "Message",
                accept: "Accept",
                decline: "Decline",
                
                // Reels
                reelsTitle: "Reels",
                
                // Audio
                recordAudioText: "Record Audio"
            },
            bn: {
                // Login Page
                loginBtnText: "à¦²à¦—à¦‡à¦¨",
                createAccountText: "à¦¨à¦¤à§à¦¨ à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¤à§ˆà¦°à¦¿",
                quickLoginText: "à¦¦à§à¦°à§à¦¤ à¦Ÿà§‡à¦¸à§à¦Ÿ à¦²à¦—à¦‡à¦¨",
                languageToggleText: "English",
                forgotPassword: "à¦ªà¦¾à¦¸à¦“à§Ÿà¦¾à¦°à§à¦¡ à¦­à§à¦²à§‡ à¦—à§‡à¦›à§‡à¦¨?",
                
                // Navigation
                navHome: "à¦¹à§‹à¦®",
                navFriends: "à¦¬à¦¨à§à¦§à§",
                navWatch: "à¦­à¦¿à¦¡à¦¿à¦“",
                navMarketplace: "à¦®à¦¾à¦°à§à¦•à§‡à¦Ÿà¦ªà§à¦²à§‡à¦¸",
                navGroups: "à¦—à§à¦°à§à¦ª",
                
                // Profile
                editProfileTitle: "à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦à¦¡à¦¿à¦Ÿ",
                saveProfileBtn: "à¦¸à§‡à¦­",
                cancelProfileBtn: "à¦¬à¦¾à¦¤à¦¿à¦²",
                changePhotoText: "à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦›à¦¬à¦¿ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨",
                
                // Sidebar
                shortcutsTitle: "à¦¶à¦°à§à¦Ÿà¦•à¦¾à¦Ÿ",
                shortcutFriends: "à¦¬à¦¨à§à¦§à§",
                shortcutGroups: "à¦—à§à¦°à§à¦ª",
                shortcutMarketplace: "à¦®à¦¾à¦°à§à¦•à§‡à¦Ÿà¦ªà§à¦²à§‡à¦¸",
                shortcutWatch: "à¦­à¦¿à¦¡à¦¿à¦“",
                shortcutMemories: "à¦¸à§à¦®à§ƒà¦¤à¦¿",
                userStatus: "ðŸŸ¢ à¦…à¦¨à¦²à¦¾à¦‡à¦¨",
                friendRequestsTitle: "à¦¬à¦¨à§à¦§à§ à¦…à¦¨à§à¦°à§‹à¦§",
                contactsTitle: "à¦•à¦¨à§à¦Ÿà¦¾à¦•à§à¦Ÿà¦¸",
                suggestionsTitle: "à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬à¦¿à¦¤ à¦¬à¦¨à§à¦§à§",
                
                // Create Post
                yourStoryText: "à¦†à¦ªà¦¨à¦¾à¦° à¦¸à§à¦Ÿà§‹à¦°à¦¿",
                photoBtnText: "à¦›à¦¬à¦¿",
                feelingBtnText: "à¦…à¦¨à§à¦­à§‚à¦¤à¦¿",
                liveBtnText: "à¦²à¦¾à¦‡à¦­",
                postBtnText: "à¦ªà§‹à¦¸à§à¦Ÿ",
                postPlaceholder: "à¦•à¦¿ à¦­à¦¾à¦¬à¦›à§‡à¦¨?",
                
                // Friend System
                addFriend: "à¦¬à¦¨à§à¦§à§ à¦¯à§‹à¦—",
                friendRequestSent: "à¦…à¦¨à§à¦°à§‹à¦§ à¦ªà¦¾à¦ à¦¾à¦¨à§‹",
                friends: "à¦¬à¦¨à§à¦§à§",
                message: "à¦®à§‡à¦¸à§‡à¦œ",
                accept: "à¦—à§à¦°à¦¹à¦£",
                decline: "à¦¬à¦¾à¦¤à¦¿à¦²",
                
                // Reels
                reelsTitle: "à¦°à¦¿à¦²à¦¸",
                
                // Audio
                recordAudioText: "à¦…à¦¡à¦¿à¦“ à¦°à§‡à¦•à¦°à§à¦¡"
            }
        };

        // Enhanced User Database
        let users = JSON.parse(localStorage.getItem('peopleLinkUsers')) || [
            {
                id: 1,
                email: 'user@example.com',
                password: 'password123',
                name: 'John Doe',
                avatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150',
                verified: true
            },
            {
                id: 2,
                email: 'sarah@example.com',
                password: 'password123',
                name: 'Sarah Johnson',
                avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150',
                verified: true
            },
            {
                id: 3,
                email: 'mike@example.com',
                password: 'password123',
                name: 'Mike Chen',
                avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150',
                verified: false
            },
            {
                id: 4,
                email: 'emma@example.com',
                password: 'password123',
                name: 'Emma Wilson',
                avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150',
                verified: false
            }
        ];

        // Enhanced Posts with Reacts
        let posts = JSON.parse(localStorage.getItem('peopleLinkPosts')) || [
            {
                id: 1,
                userId: 2,
                userName: 'Sarah Johnson',
                userAvatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150',
                content: 'Just launched my new startup! ðŸš€ So excited to share this journey with all of you. The future of social media is here with People Link!',
                image: 'https://images.unsplash.com/photo-1556761175-b413da4baf72?w=600',
                likes: 42,
                comments: 8,
                shares: 3,
                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
                verified: true,
                liked: false,
                reacts: {
                    like: 15,
                    love: 12,
                    haha: 8,
                    wow: 5,
                    sad: 2,
                    angry: 0
                },
                userReact: null
            },
            {
                id: 2,
                userId: 3,
                userName: 'Mike Chen',
                userAvatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150',
                content: 'Beautiful sunset from my balcony today! ðŸŒ… Sometimes we need to pause and appreciate the simple things in life.',
                image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600',
                likes: 28,
                comments: 5,
                shares: 1,
                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
                verified: true,
                liked: false,
                reacts: {
                    like: 18,
                    love: 6,
                    haha: 3,
                    wow: 1,
                    sad: 0,
                    angry: 0
                },
                userReact: null
            }
        ];

        // Current User
        let currentUser = JSON.parse(localStorage.getItem('currentUser'));
        let nextPostId = Math.max(0, ...posts.map(p => p.id)) + 1;
        let selectedImage = null;
        let currentChatUser = null;
        let currentStoryIndex = 0;
        let storyProgressInterval = null;
        let mediaRecorder = null;
        let audioChunks = [];
        let isRecording = false;

        // Initialize the app
        window.onload = function() {
            // Load language preference
            const savedLanguage = localStorage.getItem('language') || 'en';
            currentLanguage = savedLanguage;
            applyLanguage();
            
            if (currentUser) {
                showMainApp();
            }
            loadStories();
            loadPosts();
            loadFriendRequests();
            loadContacts();
            loadSuggestions();
            setupEventListeners();
            setupSearch();
        };

        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                performSearch(searchTerm);
            });

            // Theme from localStorage
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            // Mobile menu toggle
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                document.getElementById('mobileNav').classList.toggle('active');
            });
            
            // Real image upload
            document.getElementById('realImageUpload').addEventListener('change', handleRealImageUpload);
            
            // Password strength indicators
            document.getElementById('loginPassword').addEventListener('input', function() {
                checkPasswordStrength('loginPassword', 'loginPasswordStrength');
            });
            
            document.getElementById('editPassword').addEventListener('input', function() {
                checkPasswordStrength('editPassword', 'editPasswordStrength');
            });

            // Story navigation
            document.getElementById('prevStory').addEventListener('click', showPreviousStory);
            document.getElementById('nextStory').addEventListener('click', showNextStory);

            // Chat input enter key
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            // Audio recorder
            document.getElementById('stopRecordBtn').addEventListener('click', stopAudioRecording);
        }

        function setupSearch() {
            document.getElementById('searchInput').addEventListener('focus', function() {
                document.getElementById('searchResults').classList.add('active');
            });
            
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-container')) {
                    document.getElementById('searchResults').classList.remove('active');
                }
            });
        }

        // Enhanced Search Functionality
        function performSearch(term) {
            const searchResults = document.getElementById('searchResults');
            searchResults.innerHTML = '';

            if (term.length < 1) {
                // Show recent searches
                const recentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];
                recentSearches.forEach(search => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <i class="fas fa-clock" style="color: var(--text-secondary);"></i>
                        <span>${search}</span>
                    `;
                    resultItem.onclick = () => {
                        document.getElementById('searchInput').value = search;
                        executeSearch(search);
                    };
                    searchResults.appendChild(resultItem);
                });
                return;
            }

            // Search users
            const userResults = users.filter(user => 
                user.name.toLowerCase().includes(term) && user.id !== currentUser?.id
            );

            // Search posts
            const postResults = posts.filter(post =>
                post.content.toLowerCase().includes(term)
            );

            if (userResults.length === 0 && postResults.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'search-result-item';
                noResults.textContent = currentLanguage === 'en' ? 'No results found' : 'à¦•à§‹à¦¨ à¦«à¦²à¦¾à¦«à¦² à¦ªà¦¾à¦“à§Ÿà¦¾ à¦¯à¦¾à§Ÿà¦¨à¦¿';
                searchResults.appendChild(noResults);
                return;
            }

            // Add user results
            userResults.forEach(user => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                resultItem.innerHTML = `
                    <img src="${user.avatar}" alt="User" class="post-avatar" style="width: 32px; height: 32px;">
                    <div>
                        <div style="font-weight: 600;">${user.name}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${getFriendStatus(user.id) === 'friends' ? (currentLanguage === 'en' ? 'Friend' : 'à¦¬à¦¨à§à¦§à§') : (currentLanguage === 'en' ? 'Add Friend' : 'à¦¬à¦¨à§à¦§à§ à¦¯à§‹à¦—')}</div>
                    </div>
                `;
                resultItem.onclick = () => {
                    if (getFriendStatus(user.id) === 'friends') {
                        openMessaging(user.id);
                    } else {
                        sendFriendRequest(user.id);
                    }
                    document.getElementById('searchResults').classList.remove('active');
                    document.getElementById('searchInput').value = '';
                };
                searchResults.appendChild(resultItem);
            });

            // Add post results
            postResults.forEach(post => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                resultItem.innerHTML = `
                    <i class="fas fa-file-alt" style="color: var(--primary);"></i>
                    <div>
                        <div style="font-weight: 600;">${post.userName}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${post.content.substring(0, 50)}...</div>
                    </div>
                `;
                resultItem.onclick = () => {
                    showNotification(currentLanguage === 'en' ? 'Navigating to post...' : 'à¦ªà§‹à¦¸à§à¦Ÿà§‡ à¦¯à¦¾à¦šà§à¦›à§‡...', 'info');
                    document.getElementById('searchResults').classList.remove('active');
                    document.getElementById('searchInput').value = '';
                };
                searchResults.appendChild(resultItem);
            });

            // Save to recent searches
            saveRecentSearch(term);
        }

        function executeSearch(term) {
            showNotification(`${currentLanguage === 'en' ? 'Searching for' : 'à¦–à§à¦à¦œà¦›à¦¿'}: "${term}"`, 'info');
            // In real app, this would navigate to search results page
        }

        function saveRecentSearch(term) {
            let recentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];
            recentSearches = recentSearches.filter(s => s !== term);
            recentSearches.unshift(term);
            recentSearches = recentSearches.slice(0, 5); // Keep only 5 recent searches
            localStorage.setItem('recentSearches', JSON.stringify(recentSearches));
        }

        // Enhanced Reacts System
        function showReacts(postId) {
            const reactsContainer = document.getElementById(`reacts-${postId}`);
            reactsContainer.classList.add('active');
            
            setTimeout(() => {
                reactsContainer.classList.remove('active');
            }, 2000);
        }

        function addReact(postId, reactType) {
            if (!currentUser) {
                showNotification(currentLanguage === 'en' ? 'Please login to react' : 'à¦°à¦¿à¦…à§à¦¯à¦¾à¦•à§à¦Ÿ à¦•à¦°à¦¤à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨', 'error');
                return;
            }

            const post = posts.find(p => p.id === postId);
            if (!post) return;

            // Remove previous react
            if (post.userReact && post.userReact !== reactType) {
                post.reacts[post.userReact]--;
            }

            // Add new react
            if (post.userReact !== reactType) {
                post.reacts[reactType]++;
                post.userReact = reactType;
            } else {
                // Remove react if same type clicked again
                post.reacts[reactType]--;
                post.userReact = null;
            }

            localStorage.setItem('peopleLinkPosts', JSON.stringify(posts));
            loadPosts();

            const reactEmojis = {
                like: 'ðŸ‘',
                love: 'â¤ï¸',
                haha: 'ðŸ˜‚',
                wow: 'ðŸ˜®',
                sad: 'ðŸ˜¢',
                angry: 'ðŸ˜ '
            };

            if (post.userReact === reactType) {
                showNotification(`${reactEmojis[reactType]} ${currentLanguage === 'en' ? 'Reacted with' : 'à¦°à¦¿à¦…à§à¦¯à¦¾à¦•à§à¦Ÿ à¦•à¦°à§‡à¦›à§‡à¦¨'} ${reactType}`, 'success');
            }
        }

        function getReactCount(post) {
            const total = Object.values(post.reacts).reduce((a, b) => a + b, 0);
            if (total === 0) return '';

            const topReact = Object.entries(post.reacts)
                .sort(([,a], [,b]) => b - a)
                .find(([,count]) => count > 0);

            if (!topReact) return '';

            const reactEmojis = {
                like: 'ðŸ‘',
                love: 'â¤ï¸',
                haha: 'ðŸ˜‚',
                wow: 'ðŸ˜®',
                sad: 'ðŸ˜¢',
                angry: 'ðŸ˜ '
            };

            return `<span class="react-count"><span class="react-emoji">${reactEmojis[topReact[0]]}</span> ${total}</span>`;
        }

        // Audio Recording System
        function toggleAudioRecorder() {
            if (!currentUser) {
                showNotification(currentLanguage === 'en' ? 'Please login to record audio' : 'à¦…à¦¡à¦¿à¦“ à¦°à§‡à¦•à¦°à§à¦¡ à¦•à¦°à¦¤à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨', 'error');
                return;
            }

            if (!isRecording) {
                startAudioRecording();
            } else {
                stopAudioRecording();
            }
        }

        async function startAudioRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];

                mediaRecorder.ondataavailable = (event) => {
                    audioChunks.push(event.data);
                };

                mediaRecorder.onstop = () => {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    sendAudioMessage(audioBlob);
                };

                mediaRecorder.start();
                isRecording = true;
                document.getElementById('audioRecorder').style.display = 'flex';
                showNotification(currentLanguage === 'en' ? 'Recording started...' : 'à¦°à§‡à¦•à¦°à§à¦¡à¦¿à¦‚ à¦¶à§à¦°à§ à¦¹à§Ÿà§‡à¦›à§‡...', 'info');
            } catch (error) {
                showNotification(currentLanguage === 'en' ? 'Microphone access denied' : 'à¦®à¦¾à¦‡à¦•à§à¦°à§‹à¦«à§‹à¦¨ à¦à¦•à§à¦¸à§‡à¦¸ à¦¡à¦¿à¦¨à¦¾à¦‡à¦¡', 'error');
            }
        }

        function stopAudioRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                document.getElementById('audioRecorder').style.display = 'none';
                
                // Stop all tracks
                mediaRecorder.stream.getTracks().forEach(track => track.stop());
            }
        }

        function sendAudioMessage(audioBlob) {
            if (!currentUser || !currentChatUser) return;

            const audioUrl = URL.createObjectURL(audioBlob);
            
            const newMessage = {
                id: Date.now(),
                fromUserId: currentUser.id,
                toUserId: currentChatUser.id,
                content: 'ðŸŽ¤ Audio message',
                audioUrl: audioUrl,
                timestamp: new Date().toISOString(),
                read: false,
                type: 'audio'
            };

            // In real app, you would upload the audio blob to server
            showNotification(currentLanguage === 'en' ? 'Audio message sent!' : 'à¦…à¦¡à¦¿à¦“ à¦®à§‡à¦¸à§‡à¦œ à¦ªà¦¾à¦ à¦¾à¦¨à§‹ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
            
            // Simulate receiving audio message
            setTimeout(() => {
                const autoReply = {
                    id: Date.now() + 1,
                    fromUserId: currentChatUser.id,
                    toUserId: currentUser.id,
                    content: 'ðŸŽ¤ Audio message received!',
                    timestamp: new Date().toISOString(),
                    read: false,
                    type: 'text'
                };
                showNotification(currentLanguage === 'en' ? 'Received audio reply' : 'à¦…à¦¡à¦¿à¦“ à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡ à¦ªà¦¾à¦“à§Ÿà¦¾ à¦—à§‡à¦›à§‡', 'info');
            }, 2000);
        }

        // Enhanced Posts with Reacts
        function createPostElement(post) {
            const postsContainer = document.getElementById('postsContainer');
            const postElement = document.createElement('div');
            postElement.className = 'card post-card';
            postElement.id = `post-${post.id}`;

            const timeAgo = getTimeAgo(post.timestamp);
            const likeText = post.userReact ? (currentLanguage === 'en' ? post.userReact.charAt(0).toUpperCase() + post.userReact.slice(1) : getReactText(post.userReact)) : (currentLanguage === 'en' ? 'Like' : 'à¦²à¦¾à¦‡à¦•');
            const isOwnPost = currentUser && post.userId === currentUser.id;
            const friendStatus = getFriendStatus(post.userId);
            const friendButton = getFriendButton(post.userId);
            const reactCount = getReactCount(post);

            postElement.innerHTML = `
                <div class="post-header">
                    <img src="${post.userAvatar}" alt="User" class="post-avatar">
                    <div class="post-user-info">
                        <div class="post-username">
                            ${post.userName} ${post.verified ? '<i class="fas fa-check-circle verified-badge"></i>' : ''}
                        </div>
                        <div class="post-time">${timeAgo} Â· <i class="fas fa-globe-americas"></i></div>
                    </div>
                    ${isOwnPost ? `
                    <div class="post-options">
                        <button class="post-options-btn" onclick="togglePostOptions(${post.id})">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                        <div class="post-options-menu" id="post-options-${post.id}">
                            <div class="post-option" onclick="editPost(${post.id})">
                                <i class="fas fa-edit"></i> ${currentLanguage === 'en' ? 'Edit' : 'à¦à¦¡à¦¿à¦Ÿ'}
                            </div>
                            <div class="post-option delete" onclick="deletePost(${post.id})">
                                <i class="fas fa-trash"></i> ${currentLanguage === 'en' ? 'Delete' : 'à¦®à§à¦›à§à¦¨'}
                            </div>
                        </div>
                    </div>
                    ` : friendButton}
                </div>
                <div class="post-content">${post.content}</div>
                ${post.image ? `<img src="${post.image}" alt="Post" class="post-image">` : ''}
                <div class="post-stats">
                    ${reactCount}
                    <span>${post.comments} ${currentLanguage === 'en' ? 'comments' : 'à¦•à¦®à§‡à¦¨à§à¦Ÿ'} Â· ${post.shares} ${currentLanguage === 'en' ? 'shares' : 'à¦¶à§‡à§Ÿà¦¾à¦°'}</span>
                </div>
                <div class="post-actions-buttons">
                    <button class="post-action-btn ${post.userReact ? 'active' : ''}" 
                            onmouseenter="showReacts(${post.id})"
                            onclick="addReact(${post.id}, 'like')">
                        <i class="fas fa-thumbs-up"></i> ${likeText}
                    </button>
                    <div class="reacts-container" id="reacts-${post.id}">
                        <button class="react-btn react-like" onclick="addReact(${post.id}, 'like')">ðŸ‘</button>
                        <button class="react-btn react-love" onclick="addReact(${post.id}, 'love')">â¤ï¸</button>
                        <button class="react-btn react-haha" onclick="addReact(${post.id}, 'haha')">ðŸ˜‚</button>
                        <button class="react-btn react-wow" onclick="addReact(${post.id}, 'wow')">ðŸ˜®</button>
                        <button class="react-btn react-sad" onclick="addReact(${post.id}, 'sad')">ðŸ˜¢</button>
                        <button class="react-btn react-angry" onclick="addReact(${post.id}, 'angry')">ðŸ˜ </button>
                    </div>
                    <button class="post-action-btn" onclick="toggleComments(${post.id})">
                        <i class="fas fa-comment"></i> ${currentLanguage === 'en' ? 'Comment' : 'à¦•à¦®à§‡à¦¨à§à¦Ÿ'}
                    </button>
                    <button class="post-action-btn" onclick="sharePost(${post.id})">
                        <i class="fas fa-share"></i> ${currentLanguage === 'en' ? 'Share' : 'à¦¶à§‡à§Ÿà¦¾à¦°'}
                    </button>
                    <button class="post-action-btn" onclick="downloadPost(${post.id})">
                        <i class="fas fa-download"></i> ${currentLanguage === 'en' ? 'Download' : 'à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡'}
                    </button>
                </div>
                <div class="comments-section" id="comments-${post.id}">
                    <div class="comment">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40" alt="User" class="post-avatar">
                        <div>
                            <div style="font-weight: 600;">Mike Chen</div>
                            <div>${currentLanguage === 'en' ? 'Amazing post! ðŸ‘' : 'à¦¦à¦¾à¦°à§à¦£ à¦ªà§‹à¦¸à§à¦Ÿ! ðŸ‘'}</div>
                        </div>
                    </div>
                    <div class="comment-input-container">
                        <img src="${currentUser ? currentUser.avatar : 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40'}" alt="User" class="post-avatar">
                        <input type="text" class="comment-input" placeholder="${currentLanguage === 'en' ? 'Write a comment...' : 'à¦•à¦®à§‡à¦¨à§à¦Ÿ à¦²à¦¿à¦–à§à¦¨...'}" onkeypress="addComment(event, ${post.id})">
                    </div>
                </div>
            `;

            postsContainer.appendChild(postElement);
        }

        function getReactText(reactType) {
            const reacts = {
                like: 'à¦²à¦¾à¦‡à¦•',
                love: 'à¦²à¦¾à¦­',
                haha: 'à¦¹à¦¾à¦¹à¦¾',
                wow: 'à¦“à§Ÿà¦¾à¦“',
                sad: 'à¦¸à§à¦¯à¦¾à¦¡',
                angry: 'à¦à§à¦¯à¦¾à¦‚à¦°à¦¿'
            };
            return reacts[reactType] || 'à¦²à¦¾à¦‡à¦•';
        }

        // Download Post/Reel
        function downloadPost(postId) {
            const post = posts.find(p => p.id === postId);
            if (!post) return;

            if (post.image) {
                // Download image
                const link = document.createElement('a');
                link.href = post.image;
                link.download = `post-${postId}.jpg`;
                link.click();
                showNotification(currentLanguage === 'en' ? 'Image downloaded!' : 'à¦›à¦¬à¦¿ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
            } else {
                // Download post content as text
                const blob = new Blob([post.content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `post-${postId}.txt`;
                link.click();
                URL.revokeObjectURL(url);
                showNotification(currentLanguage === 'en' ? 'Post content downloaded!' : 'à¦ªà§‹à¦¸à§à¦Ÿ à¦•à¦¨à§à¦Ÿà§‡à¦¨à§à¦Ÿ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
            }
        }

        function downloadReel(reelId) {
            const reel = reels.find(r => r.id === reelId);
            if (!reel) return;

            showNotification(currentLanguage === 'en' ? 'Downloading reel...' : 'à¦°à¦¿à¦² à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ à¦¹à¦šà§à¦›à§‡...', 'info');
            // In real app, this would download the video file
            setTimeout(() => {
                showNotification(currentLanguage === 'en' ? 'Reel downloaded successfully!' : 'à¦°à¦¿à¦² à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
            }, 2000);
        }

        // Profile Picture Update
        function updateProfilePicture(input) {
            if (!currentUser) return;

            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Update current user's avatar
                    currentUser.avatar = e.target.result;
                    
                    // Update in users array
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex].avatar = e.target.result;
                        localStorage.setItem('peopleLinkUsers', JSON.stringify(users));
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    }

                    // Update UI
                    document.getElementById('profilePicturePreview').src = e.target.result;
                    document.getElementById('navUserAvatar').src = e.target.result;
                    document.getElementById('createPostAvatar').src = e.target.result;
                    document.getElementById('profileAvatar').src = e.target.result;

                    showNotification(currentLanguage === 'en' ? 'Profile picture updated!' : 'à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦›à¦¬à¦¿ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        // Google Login Simulation
        function loginWithGoogle() {
            showNotification(currentLanguage === 'en' ? 'Connecting with Google...' : 'à¦—à§à¦—à¦²à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦‚à¦¯à§‹à¦— à¦¹à¦šà§à¦›à§‡...', 'info');
            
            // Simulate Google OAuth
            setTimeout(() => {
                const googleUser = {
                    id: 1000,
                    email: 'googleuser@gmail.com',
                    name: 'Google User',
                    avatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150',
                    verified: true,
                    googleLogin: true
                };

                // Check if user exists, if not create new
                let existingUser = users.find(u => u.email === googleUser.email);
                if (!existingUser) {
                    googleUser.id = nextUserId++;
                    users.push(googleUser);
                    localStorage.setItem('peopleLinkUsers', JSON.stringify(users));
                } else {
                    googleUser.id = existingUser.id;
                }

                currentUser = googleUser;
                localStorage.setItem('currentUser', JSON.stringify(googleUser));
                showMainApp();
                showNotification(currentLanguage === 'en' ? 'Google login successful!' : 'à¦—à§à¦—à¦² à¦²à¦—à¦‡à¦¨ à¦¸à¦«à¦²!', 'success');
            }, 1500);
        }

        // Enhanced Language System
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'bn' : 'en';
            localStorage.setItem('language', currentLanguage);
            applyLanguage();
        }

        function applyLanguage() {
            const elements = document.querySelectorAll('[id]');
            elements.forEach(element => {
                const id = element.id;
                if (translations[currentLanguage][id]) {
                    if (element.tagName === 'INPUT' && (element.type === 'text' || element.type === 'password')) {
                        element.placeholder = translations[currentLanguage][id];
                    } else {
                        element.textContent = translations[currentLanguage][id];
                    }
                }
            });
        }

        // Auto-login after registration
        function signup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (!name || !email || !password || !confirmPassword) {
                showNotification(currentLanguage === 'en' ? 'Please fill all fields' : 'à¦¸à¦¬ à¦«à¦¿à¦²à§à¦¡ à¦ªà§‚à¦°à¦£ à¦•à¦°à§à¦¨', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showNotification(currentLanguage === 'en' ? 'Passwords do not match' : 'à¦ªà¦¾à¦¸à¦“à§Ÿà¦¾à¦°à§à¦¡ à¦®à¦¿à¦²à¦›à§‡ à¦¨à¦¾', 'error');
                return;
            }

            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showNotification(currentLanguage === 'en' ? 'User with this email already exists' : 'à¦à¦‡ à¦‡à¦®à§‡à¦‡à¦² à¦¦à¦¿à§Ÿà§‡ à¦‡à¦¤à¦¿à¦®à¦§à§à¦¯à§‡ à¦‡à¦‰à¦œà¦¾à¦° à¦†à¦›à§‡', 'error');
                return;
            }

            const newUser = {
                id: nextUserId++,
                email: email,
                password: password,
                name: name,
                avatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150',
                verified: false
            };

            users.push(newUser);
            localStorage.setItem('peopleLinkUsers', JSON.stringify(users));

            // Auto-login after signup
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            showMainApp();
            showNotification(currentLanguage === 'en' ? 'Account created successfully! Welcome!' : 'à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦¤à§ˆà¦°à¦¿ à¦¹à§Ÿà§‡à¦›à§‡! à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®!', 'success');
        }

        // Enhanced Security Features
        function validatePassword(password) {
            const requirements = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                number: /[0-9]/.test(password),
                special: /[^A-Za-z0-9]/.test(password)
            };

            const metRequirements = Object.values(requirements).filter(Boolean).length;
            return {
                isValid: metRequirements >= 4, // At least 4 out of 5 requirements
                requirements: requirements
            };
        }

        function checkPasswordStrength(passwordFieldId, strengthIndicatorId) {
            const password = document.getElementById(passwordFieldId).value;
            const strengthIndicator = document.getElementById(strengthIndicatorId);
            
            if (!password) {
                strengthIndicator.className = 'password-strength';
                strengthIndicator.style.width = '0';
                return;
            }
            
            const validation = validatePassword(password);
            const strength = Object.values(validation.requirements).filter(Boolean).length;
            
            if (strength <= 2) {
                strengthIndicator.className = 'password-strength strength-weak';
            } else if (strength <= 4) {
                strengthIndicator.className = 'password-strength strength-medium';
            } else {
                strengthIndicator.className = 'password-strength strength-strong';
            }
        }

        // Keep all other existing functions from previous code
        // (login, showMainApp, loadPosts, createPost, etc.)

        // Initialize with enhanced features
        function showMainApp() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('mainNavbar').style.display = 'flex';
            document.getElementById('mainContainer').style.display = 'grid';
            
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('navUserName').textContent = currentUser.name.split(' ')[0];
                document.getElementById('navUserAvatar').src = currentUser.avatar;
                document.getElementById('createPostAvatar').src = currentUser.avatar;
                document.getElementById('profileAvatar').src = currentUser.avatar;
                document.getElementById('profilePicturePreview').src = currentUser.avatar;
                
                const verifiedBadge = currentUser.verified ? ' <i class="fas fa-check-circle verified-badge"></i>' : '';
                document.getElementById('userName').innerHTML = currentUser.name + verifiedBadge;
            }
        }

        // Add Google login button to auth card
        function showLoginForm() {
            const authCard = document.getElementById('authCard');
            authCard.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <input type="email" id="loginEmail" placeholder="Email address or phone number" style="width: 100%; padding: 15px; border: 1px solid #dddfe2; border-radius: 6px; margin-bottom: 10px; font-size: 16px;">
                    <div class="password-container">
                        <input type="password" id="loginPassword" placeholder="Password" style="width: 100%; padding: 15px; border: 1px solid #dddfe2; border-radius: 6px; font-size: 16px;">
                        <button class="password-toggle" onclick="togglePasswordVisibility('loginPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-strength" id="loginPasswordStrength"></div>
                </div>

                <button class="media-btn" id="loginBtn" style="width: 100%; background: #1877f2; color: white; border: none; padding: 12px; border-radius: 6px; margin-bottom: 15px; font-size: 20px; font-weight: bold;" onclick="login()">
                    <span id="loginBtnText">Log in</span>
                </button>
                
                <div style="text-align: center; margin: 16px 0;">
                    <a href="#" style="color: #1877f2; text-decoration: none; font-size: 14px;" id="forgotPassword">Forgotten password?</a>
                </div>

                <hr style="border: none; border-top: 1px solid #dadde1; margin: 20px 0;">

                <button class="media-btn" style="width: 100%; background: #42b72a; color: white; border: none; padding: 12px; border-radius: 6px; font-size: 17px; font-weight: bold; margin-bottom: 15px;" onclick="showSignupForm()">
                    <span id="createAccountText">Create new account</span>
                </button>

                <!-- Google Login Button -->
                <button class="media-btn" style="width: 100%; margin-top: 15px; border: 1px solid #dadde1; color: #db4437; background: white;" onclick="loginWithGoogle()">
                    <i class="fab fa-google"></i> <span>Continue with Google</span>
                </button>

                <!-- Quick Test Button -->
                <button class="media-btn" style="width: 100%; margin-top: 15px; border: 1px solid #dadde1; color: #1877f2; background: white;" onclick="quickLogin()">
                    <i class="fas fa-bolt"></i> <span id="quickLoginText">Quick Test Login</span>
                </button>
                
                <!-- Language Toggle in Login -->
                <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #dadde1;">
                    <button class="language-toggle" onclick="toggleLanguage()">
                        <i class="fas fa-language"></i> <span id="languageToggleText">à¦¬à¦¾à¦‚à¦²à¦¾</span>
                    </button>
                </div>
            `;
            
            document.getElementById('loginPassword').addEventListener('input', function() {
                checkPasswordStrength('loginPassword', 'loginPasswordStrength');
            });
        }

        // Update the existing login function to include security
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showNotification(currentLanguage === 'en' ? 'Please fill all fields' : 'à¦¸à¦¬ à¦«à¦¿à¦²à§à¦¡ à¦ªà§‚à¦°à¦£ à¦•à¦°à§à¦¨', 'error');
                return;
            }

            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showMainApp();
                showNotification((currentLanguage === 'en' ? 'Welcome back, ' : 'à¦«à¦¿à¦°à§‡ à¦†à¦¸à¦¾à¦° à¦œà¦¨à§à¦¯ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®, ') + user.name + '!', 'success');
                
                // Log login activity
                console.log('User logged in:', user.email, new Date().toISOString());
            } else {
                showNotification(currentLanguage === 'en' ? 'Invalid email or password' : 'à¦­à§à¦² à¦‡à¦®à§‡à¦‡à¦² à¦¬à¦¾ à¦ªà¦¾à¦¸à¦“à§Ÿà¦¾à¦°à§à¦¡', 'error');
                
                // Security: Log failed login attempt
                console.log('Failed login attempt:', email, new Date().toISOString());
            }
        }

        // Add this function to handle post editing with captions
        function editPost(postId) {
            const post = posts.find(p => p.id === postId);
            if (!post) return;
            
            const newContent = prompt(currentLanguage === 'en' ? 'Edit your post:' : 'à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§‹à¦¸à§à¦Ÿ à¦à¦¡à¦¿à¦Ÿ à¦•à¦°à§à¦¨:', post.content);
            if (newContent !== null && newContent.trim() !== '') {
                post.content = newContent.trim();
                localStorage.setItem('peopleLinkPosts', JSON.stringify(posts));
                loadPosts();
                showNotification(currentLanguage === 'en' ? 'Post updated successfully!' : 'à¦ªà§‹à¦¸à§à¦Ÿ à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
            }
        }

        // Enhanced comment system
        function addComment(event, postId) {
            if (event.key === 'Enter' && event.target.value.trim()) {
                if (!currentUser) {
                    showNotification(currentLanguage === 'en' ? 'Please login to comment' : 'à¦•à¦®à§‡à¦¨à§à¦Ÿ à¦•à¦°à¦¤à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨', 'error');
                    return;
                }
                
                const post = posts.find(p => p.id === postId);
                if (post) {
                    post.comments++;
                    localStorage.setItem('peopleLinkPosts', JSON.stringify(posts));
                    loadPosts();
                }
                
                showNotification(currentLanguage === 'en' ? 'Comment added!' : 'à¦•à¦®à§‡à¦¨à§à¦Ÿ à¦¯à§‹à¦— à¦¹à§Ÿà§‡à¦›à§‡!', 'success');
                event.target.value = '';
            }
        }

        // Keep all other existing functions...
        // [Previous code for stories, friend system, messaging, etc. remains the same]

    </script>
</body>
</html>
